package hu.com.android;

import com.google.gson.Gson;
import com.google.gson.reflect.TypeToken;

import org.junit.Assert;
import org.junit.Test;

import java.lang.reflect.Type;
import java.util.ArrayList;
import java.util.List;

import hu.core.api.Hotel;

/**
 * Created by JGabrielFreitas on 17/03/16.
 */
public class DeserializeTest {

    @Test
    public void test_single_hotel(){

        String hotelMock = "{\"availability_days\": [{\"date\": \"1/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"2/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"3/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"4/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"5/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"6/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"7/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"8/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"9/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"10/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"11/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"12/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"13/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"14/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"15/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"16/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"17/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"18/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"19/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"20/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"21/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"22/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"23/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"24/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"25/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"26/5/2015\", \"is_available\": false, \"id\": \"6\"}, {\"date\": \"27/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"28/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"29/5/2015\", \"is_available\": true, \"id\": \"6\"}, {\"date\": \"30/5/2015\", \"is_available\": false, \"id\": \"6\"}], \"id\": \"6\", \"name\": \"Pousada Sao Silmares \", \"location\": \"Marica\"}";

        Hotel hotel = new Gson().fromJson(hotelMock, Hotel.class);
        Assert.assertNotNull(hotel);
    }

    @Test
    public void test_all_hotels() {

        String someHotels = "[{\"availability_days\": [{\"date\": \"1/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"2/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"3/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"4/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"5/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"6/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"7/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"8/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"9/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"10/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"11/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"12/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"13/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"14/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"15/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"16/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"17/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"18/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"19/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"20/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"21/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"22/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"23/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"24/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"25/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"26/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"27/5/2015\", \"is_available\": false, \"id\": \"1\"}, {\"date\": \"28/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"29/5/2015\", \"is_available\": true, \"id\": \"1\"}, {\"date\": \"30/5/2015\", \"is_available\": true, \"id\": \"1\"}], \"id\": \"1\", \"name\": \"Mercatto Casa Hotel \", \"location\": \"Araruama\"}, {\"availability_days\": [{\"date\": \"1/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"2/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"3/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"4/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"5/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"6/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"7/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"8/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"9/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"10/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"11/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"12/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"13/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"14/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"15/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"16/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"17/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"18/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"19/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"20/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"21/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"22/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"23/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"24/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"25/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"26/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"27/5/2015\", \"is_available\": false, \"id\": \"2\"}, {\"date\": \"28/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"29/5/2015\", \"is_available\": true, \"id\": \"2\"}, {\"date\": \"30/5/2015\", \"is_available\": true, \"id\": \"2\"}], \"id\": \"2\", \"name\": \"Boulevard Higienopolis Residence Hotel \", \"location\": \"Macae\"}, {\"availability_days\": [{\"date\": \"1/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"2/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"3/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"4/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"5/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"6/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"7/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"8/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"9/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"10/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"11/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"12/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"13/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"14/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"15/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"16/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"17/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"18/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"19/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"20/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"21/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"22/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"23/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"24/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"25/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"26/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"27/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"28/5/2015\", \"is_available\": false, \"id\": \"3\"}, {\"date\": \"29/5/2015\", \"is_available\": true, \"id\": \"3\"}, {\"date\": \"30/5/2015\", \"is_available\": true, \"id\": \"3\"}], \"id\": \"3\", \"name\": \"Lucca Hotel Pousada \", \"location\": \"Campos\"}]";

        Type listType = new TypeToken<ArrayList<Hotel>>() {}.getType();
        List<Hotel> hotelList = new Gson().fromJson(someHotels, listType);

        Assert.assertNotNull(hotelList);
    }
}
